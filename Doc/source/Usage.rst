关于该项目的用法：
==================

主窗口1：
------------------
在刚开始运行的时候，屏幕上会出现一个UI界面。在这个界面上有三个输入框，第一个是“出发地”，第二个是“目的地”，第三个是“出发日期”。

在这三个输入框中，分别输入你想要查询的出发地、目的地和出发日期。

如果你不确定你输入的是否正确，可以点击旁边的“查询车站”或“选择日期”按钮。

如果你确定你输入的信息，可以直接点击主窗口下的“确认”按钮直接开始查票。

（主窗口1中的复窗口）
当点击“查询车站”时，在弹出的窗口中间有一个输入框，输入你需要查询的车站。在输入完成后点击窗口顶部的“查询车站”按钮，如果你的输入是正确的话，会出现一个标签，上面显示的内容应和您输入的车站名一致。在确认无误后请点击确定；当点击“选择日期”时，在弹出的窗口中有三个输入框，输入你出发的年月日。在三个输入框的下面有当前的精确日期和时间，在确认时间输入无误后请点击确定。

在所有信息都输入完毕后，由于程序的设定，项目根目录下会出现一个temp文件夹。如果刚才的程序没肉任何的执行错误的话在这个文件夹中会有三个文件，分别是：

.. code-block::

    data_socket_start_station.log  # 存储输入的启示站点
    data_socket_end_station.log  # 存储输入的终点站
    data_socket_start_date.log  # 存储输入的查询日期

这里需要特别提醒一下，如果你是通过查询窗口保存的这些信息，在三个窗口全部通过“确定”结束后需要点一次主窗口上的“同步选择信息（必选）”按钮，（否则如果你直接点击主窗口中的“确认”开始查票的话，之前在复窗口中确认的信息就会被覆盖。）此时主窗口上的三个输入框都会同步上您刚才确定的信息。（当然，如果你在主窗口中就已经填好了信息，直接点击的“确认”按钮后就不需要任何其他操作了，因为这时程序已经开始查票了。）

如果您是直接在窗口中输入的信息，这里就可以直接点击主窗口中的“确认”按钮开始查票了（依旧会生成temp文件夹和那三个文件）。

（主窗口1中的复窗口）
值得注意的是在主窗口1中右边中间部分还有一个“登录”选项，这并不一定立即就要求选。如果你现在没有选择该选项，在后续的抢票过程中一样会要求登录。不过如果你立即选择了该选项，就会弹出一个窗口，里面有3个输入框，第一个是"用户名/邮箱/手机号"；第二个是"密码"；第三个是"身份证后4位"。在确认您的个人登录信息填写无误后就可以点击底部的确认按钮了

主窗口2：
------------------
在点击了确认按钮后，等待10几秒，会弹出第二个窗口。这个窗口上应该是查询到的当天的所有车次的信息列表。

+----------------------------------------------------+----------------------------------------------------+
|  车次  | 列车始发/终点站 |        余票情况      | 选择的始发/终点站 | 列车始发/终到时间 | 中途耗时 | 列车编号 |
+====================================================+====================================================+
| G1234 |   广州东-福田   |      允许继续购票     |  广州新塘-深圳北  |   06:08-07:26   |   01:18   |   1   |
+====================================================+====================================================+
| D901  |   北京西-深圳北 | 票已售罄，无法继续购票 |     广州-深圳     |   06:37-08:06   |   01:29   |   2   |
+====================================================+====================================================+
| C7011 |   广州东-深圳   |       该票未起售      |     广州东-深圳   |   24:00-24:00   |   99:59   |   3   |
+----------------------------------------------------+----------------------------------------------------+

这是在车次列表中可能会出现的显示情况（表格中的信息不一定完全属实，仅展示显示可能信息和格式）。

（注：这里的选择的始发/终点站和列车的始发/终点站不一样。比如你选择的是广州南到深圳北，此时系统会根据你的始发终点站在同城内找到所有的车站排列组合。但列车始发终点站和你搜索的始发终点站无关，这个是由铁路局决定的。）

第一个“车次”是当天在查询铁路段的所有车次；第二个“列车始发/终点站”是该列车的始发和终点站；第三个“余票情况”是该列车是否还有位置或该车次是否依然支持购票；第四个“选择的始发/终点站”是指你查询的始发和终点站；第五个“中途耗时”是你买到票后坐在车上的实际时间；最后第六个“列车编号”是实时生成的车次编号，方便在车次过多的情况下快速定位等。

最后，在确定您需要购买的车次后可以看到在主窗口2的顶部有一个输入空间。我们提供了两种定位车票的方式，一种是输入车次末尾的“列车编号”对应的数字；一种是通过输入车次（不太推荐）。程序会自动检测您输入的是那种定位方式。

（注：有的时候，在您查询的铁路段上很多同车次的情况。比如有一趟C7011的广深城际列车，他在广州境内即停靠广州东站，又停靠广州新塘站；在深圳境内即停靠深圳北站，又停靠福田站。此时就可能会出现相同车次号的4张不同票（2^2种情况）。所以此时我们无法确定您选择的到底是那张票，所以在处理用车次号定位的时候我们会对所有出现的情况次数除以2再做int操作，也就是默认取同车次列表中中间的票。详细请看源代码：）

.. code-block::

    ...
    def get_train_ticket_button(self):
        self.select_info_list=None
        self.reflex_table_keys=list(self.reflex_table.keys())
        self.reflex_table_values=list(self.reflex_table.values())
        if self.condition == "1":
            self.index = self.reflex_table_values.index(self.train_code-1)
            self.range_value = self.reflex_table_keys[self.index]+1
            for index in range(self.range_value):
                self.train_code_index += 2
            self.select_info_list=[self.train_code_list[self.train_code-1], self.train_start_time,
                                   self.period_start_station, self.period_end_station]
        elif self.condition == "2":
            self.ticket_index=int(len(self.choose_index_train)/2)  # 这里是重点，我们在不确定您在多次相同的车次下选择的具体哪列车时会取中间值
            self.index = self.reflex_table_values.index(self.choose_index_train[self.ticket_index])
            self.range_value = self.reflex_table_keys[self.index]+1
            for index in range(self.range_value):
                self.train_code_index += 2
            self.select_info_list=[self.train_code, self.train_start_time[self.ticket_index],
                                   self.period_start_station[self.ticket_index], self.period_end_station[self.ticket_index]]
        print(self.train_code_index)
        ...

我们可以看到，我们在处理的过程中如果您输入的是“列车编号”那么就会直接定位车票；而在输入车次号的时候则是取中间值进行的定位。

在确认车票信息后请点击主窗口2左上角的“确认”开始下一步抢票。

值得注意的是在确认好车次等信息后在temp文件夹下会继续多出一个文件：

.. code-block::

    data_socket_train_code.log  # 用于存储选择的车次信息






